<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="dcterms.date" content="2025-09-13" />
  <title>Unleashing the Power: TTY, Linux Framebuffer, and EGLFS - Without the weight of Xorg or Wayland</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height: auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<header id="title-block-header">
<h1 class="title">Unleashing the Power: TTY, Linux Framebuffer, and
EGLFS - Without the weight of Xorg or Wayland</h1>
<p class="date">2025-09-13</p>
</header>
<h3
id="tutorial-live-exclusively-from-the-tty-without-xorg-or-wayland"><strong>Tutorial:
Live Exclusively from the TTY (Without Xorg or Wayland)</strong></h3>
<p>This tutorial will guide you to perform common and advanced tasks
directly from the Terminal (TTY), leveraging console tools and the
framebuffer.</p>
<h4 id="tty-environment-setup"><strong>1. TTY Environment
Setup</strong></h4>
<p>For efficient management of your terminals and processes, it is
essential to use a terminal multiplexer.</p>
<ul>
<li><strong>Start a Terminal Multiplexer Upon Login:</strong>
<ul>
<li>For <code>fish</code> shell, add to the
<code>.config/fish/config.fish</code> file:
<code>bash     if status --is-login         if test -z "$DISPLAY" -a $XDG_VTNR = 1             exec tmux         end     end</code>
This will automatically start <code>tmux</code> (a terminal multiplexer
similar to <code>tmux</code>) if no graphical environment is
running.</li>
<li>Alternatively, you can use <code>dvtm</code>.</li>
</ul></li>
</ul>
<h4 id="web-browsing-from-tty"><strong>2. Web Browsing from
TTY</strong></h4>
<p>To browse the internet, you will use text-based browsers. For
multimedia content, you will need additional tools.</p>
<ul>
<li><strong>Recommended Text Browsers:</strong>
<ul>
<li><strong>w3m</strong>: <code>w3m</code>. This browser supports
displaying images directly in the console without an additional tool
<strong>you can render JavaScript only sites</strong> using this:
<code>chromium --headless $1 --disable-gpu --run-all-compositor-stages-before-draw --dump-dom --virtual-time-budget=10000 | sed "s|&lt;head&gt;|&lt;head&gt;&lt;base href=$1&gt;|g" | w3m -T text/html</code>.</li>
<li><strong>elinks</strong>: use fbi to view images.</li>
<li><strong>lynx</strong>: <code>lynx</code>.</li>
<li><strong>links 2</strong>: <code>links 2</code>. Apparently,
<code>links 2</code> has better JavaScript support; the recommendation
is to install all of them.</li>
</ul></li>
<li><strong>Configuration for <code>lynx</code> (accept
cookies):</strong>
<ul>
<li>Edit the configuration file:
<code>bash     sudo vim /etc/lynx.cfg</code></li>
<li>Uncomment line 1359 and set its value to <code>TRUE</code>:
<code>ACCEPT_ALL_COOKIES:TRUE</code> This allows <code>lynx</code> to
accept all cookies by default.</li>
</ul></li>
<li><strong>Image Support in <code>elinks</code> and
<code>lynx</code>:</strong>
<ul>
<li><strong>Install <code>fbida</code></strong>:
<code>bash     # For Arch Linux (example, may vary depending on your distro)     sudo pacman -S fbida</code>
<code>fbida</code> comes with a set of commands: <code>fbi</code>,
<code>ida</code>. You need to configure <code>elinks</code> to open
images using these programs.</li>
<li><strong>Configure <code>elinks</code></strong>: Configure
<code>elinks</code> to open images using <code>fbi</code> or
<code>ida</code>.</li>
<li><strong>Improve <code>elinks</code> display</strong>: Set
<code>elinks</code> to 16-bit colors in
<code>Setup - Terminal Options - Color mode</code>.</li>
</ul></li>
<li><strong>Basic JavaScript Support in <code>elinks</code>:</strong>
<ul>
<li><code>elinks</code> has basic JavaScript support, enough for sites
like 4chan. To add JavaScript support, you can follow guides like the
one mentioned in the sources.</li>
</ul></li>
</ul>
<h4 id="multimedia-viewing-images-pdfs-and-videos"><strong>3. Multimedia
Viewing: Images, PDFs, and Videos</strong></h4>
<ul>
<li><strong>View Images in TTY (with <code>fbi</code> and
<code>mpv</code>):</strong>
<ul>
<li>You can use <code>fbi</code> (part of <code>fbida</code>) to view
images.</li>
<li><code>mpv</code> can also be used to view images.</li>
</ul></li>
<li><strong>Read PDFs from the TTY:</strong>
<ul>
<li><strong><code>fbpdf</code></strong>:
<code>bash     fbpdf document_name.pdf</code> <code>fbpdf</code> is the
recommended tool for reading PDFs directly in the framebuffer.</li>
<li>Alternatively, you can download the PDF with <code>w3m</code> and
then use a viewer like <code>fbpdf</code>.</li>
</ul></li>
<li><strong>Watch Videos (YouTube, Twitch, Kick) from the TTY:</strong>
<ul>
<li><strong><code>w3m</code> with Invidious</strong>:
<ul>
<li>Browse to Invidious (e.g., <code>inv.nadeko.net</code>) with
<code>w3m</code>.</li>
<li>Configure <code>mpv</code> as the default browser in
<code>w3m</code>. When accessing the video URL, press
<strong><code>Shift+M</code></strong> to open it with
<code>mpv</code>.</li>
</ul></li>
<li><strong><code>mpv</code> for Twitch or Kick</strong>:
<ul>
<li>You can use <code>mpv</code> to watch Twitch or Kick streams.</li>
</ul></li>
<li><strong>Video Playback in Framebuffer</strong>:
<ul>
<li>When using <code>mpv</code> to watch videos from the framebuffer:
<code>bash     mpv --vo=drm video.mp4</code> This uses the framebuffer
driver for video output.</li>
</ul></li>
<li><strong><code>mpv</code> and <code>invidious</code> for
YouTube</strong>:
<ul>
<li><code>alias invidious 'w3m https://inv.nadeko.net/feed/subscriptions'</code>
and set <code>mpv</code> as default browser.</li>
</ul></li>
<li>This is my <code>mpv.conf</code>:</li>
</ul>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> cat /etc/mpv/mpv.conf</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="ex">--profile=fast</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="ex">--sub-auto=all</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="ex">--ytdl-raw-options=</span><span class="st">&quot;format=bestvideo[height&lt;=?360]+bestaudio/best[height&lt;=?360]/bestvideo[height&lt;=?480]+bestaudio/best[height&lt;=?480],write-auto-sub=,sub-lang=[es,en,ru],write-sub=&quot;</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="ex">--volume-max=600</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co">#--save-position-on-quit</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co">#--untimed</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co">#--profile=low-latency</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="ex">--mute=yes</span></span></code></pre></div>
<ul>
<li><code>yt-dlp.conf</code>:</li>
</ul>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> /etc/yt-dlp.conf</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="ex">--format=233+230</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="ex">--write-auto-sub</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="ex">--write-sub</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="ex">--sub-lang=en</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co">#--cookies-from-browser firefox</span></span></code></pre></div>
<strong>Important</strong>: If you use <code>mpv</code> for videos, run
it without <code>tmux</code>; otherwise, you won’t be able to switch
between other TTYs.</li>
<li><strong>Search Torrents:</strong>
<ul>
<li>Use <code>jackett</code> and <code>btstrm</code> to search for
torrents from the console.</li>
</ul></li>
</ul>
<h4
id="using-lightweight-graphical-applications-in-tty-framebuffer-eglfs-and-linuxfb"><strong>4.
Using Lightweight Graphical Applications in TTY (FrameBuffer:
<code>eglfs</code> and <code>linuxfb</code>)</strong></h4>
<p>To run some applications that normally require a graphical server
(like graphical web browsers), you can force them to use the
framebuffer. This is especially useful on slow computers. In some Linux
distributions, you need to run the following command to get the mouse
and keyboard working: <code>sudo chmod 666 /dev/input/event*</code></p>
<ul>
<li><strong>Concept of <code>eglfs</code> and
<code>linuxfb</code>:</strong>
<ul>
<li>These platforms (Qt QPA drivers) allow Qt applications to take
direct control of the mouse and keyboard and draw directly to the
framebuffer, without an Xorg or Wayland server.</li>
<li><strong>All KDE applications built with Qt can run from the TTY
using these framebuffer platforms</strong>. Since KDE applications are
built with the Qt toolkit, they can leverage <code>eglfs</code> or
<code>linuxfb</code> to render directly on the console.</li>
<li><strong>Warning with <code>eglfs</code></strong>: <strong>It is a
bad idea because if the application crashes, you cannot close it and
have to shut down the computer. DO NOT use it.</strong>. This implies
that trying to stop it with <code>Control+Z</code> is also not
recommended and could lead to system freezes.</li>
</ul></li>
<li><strong>Environment Variables for <code>eglfs</code> and
<code>linuxfb</code>:</strong>
<ul>
<li>Use <code>export XKB_DEFAULT_LAYOUT=es</code> to set your keyboard
distribution.</li>
<li>To use <code>eglfs</code>:
<code>bash     export QT_QPA_PLATFORM=eglfs</code> Then, start your Qt
application (e.g., <code>qutebrowser</code>).</li>
<li>To use <code>linuxfb</code>:
<code>bash     export QT_QPA_PLATFORM=linuxfb:size=1000x1000</code></li>
<li>when using ffmpeg to record, you can capture any qt application with
the <code>linuxfb</code> option, but recording is not possible if you
are using <code>elgfs</code>. ```bash # You need to open with site
first.</li>
</ul></li>
</ul>
<p>falkon “https://www.youtube.com/live_dashboard”</p>
<h3 id="stream-only-tty">Stream only tty</h3>
<p>ffmpeg -f alsa -i pipewire -thread_queue_size 1024 -f fbdev
-framerate 60 -i /dev/fb0 -c:v libx264 -preset ultrafast -tune
zerolatency -pix_fmt yuv420p -c:a aac -b:a 128k -f flv -async 1 -ar
48000 -latency 100 -bufsize 1000k rtmp://a.rtmp.youtube.com/live2/KEY
2&gt; /dev/null</p>
<h4 id="stream-tty-with-camera.">Stream TTY with camera.</h4>
<p>#ffmpeg -f alsa -i pipewire -thread_queue_size 1024 -f fbdev
-framerate 60 -i /dev/fb0 -f v4l2 -framerate 60 -video_size 320x240 -i
/dev/video0 -filter_complex
“[2:v]scale=320:240[cam];[1:v][cam]overlay=main_w-overlay_w-10:main_h-overlay_h-10[outv]”
-map “[outv]” -map 0:a -c:v libx264 -preset ultrafast -tune zerolatency
-pix_fmt yuv420p -c:a aac -b:a 128k -f flv -bufsize 1000k
rtmp://a.rtmp.youtube.com/live2/KEY 2&gt; /dev/null</p>
<h3 id="full-cam.">Full cam.</h3>
<p>#ffmpeg -f alsa -i pipewire -thread_queue_size 1024 -f v4l2
-framerate 60 -video_size 1280x720 -i /dev/video0 -c:v libx264 -preset
ultrafast -tune zerolatency -pix_fmt yuv420p -c:a aac -b:a 128k -f flv
-bufsize 1000k rtmp://a.rtmp.youtube.com/live2/KEY 2&gt; /dev/null</p>
<p>``<code>In some cases, you may need to add specific flags for</code>falkon<code>and</code>qutebrowser<code>to work with</code>linuxfb`.</p>
<ul>
<li><strong>Graphical Browsers that Support Framebuffer (examples of Qt
apps):</strong>
<ul>
<li><strong><code>qutebrowser</code> (with <code>eglfs</code>):</strong>
<code>bash     qutebrowser</code> Or configure the
<code>QT_QPA_PLATFORM</code> environment variable as indicated above.
<ul>
<li><strong>Copy/Paste in <code>qutebrowser</code></strong>: You can use
<code>privatebin</code> to copy text from <code>qutebrowser</code>, then
access the URL and save the file.</li>
</ul></li>
<li><strong><code>falkon</code>:</strong>
<ul>
<li>It can be used with <code>eglfs</code>, although it did not work
with <code>linuxfb</code> in one instance.</li>
<li>I use <strong>Android as my User-Agent</strong>: For pages to load
faster:
<code>bash     # This is configured in Falkon Preferences, in the last option.     # You can use the Android User-Agent so Twitch loads faster.</code>.</li>
<li><strong>Ad Blocking in <code>Falkon</code></strong>:
<ol type="1">
<li>Go to <code>AdBlock settings</code>, and add all non-regional lists
(EasyPrivacy, NoCoin List, Anti-Adblock Killer, Peter Lowe’s List,
etc.).</li>
<li>Go to <code>Settings -&gt; Extensions</code>, and check the box for
<code>GreaseMonkey</code>.</li>
<li>Install a YouTube ad-blocking script from
<code>https://greasyfork.org/en/scripts/459541-youtube   -youtube-ad-blocker</code>.</li>
</ol></li>
</ul></li>
<li><strong><code>Konqueror</code></strong>: It is a KDE browser that
can also be tested in these configurations.</li>
<li><strong><code>NetSurf</code></strong>: Can be run in framebuffer
mode: <code>netsurf-fb -f sdl -w 1366 -h 768</code>.
<code>NetSurf</code> does not have JavaScript support. You can add
<code>netsurf-fb -f sdl -w 1366 -h 768</code> as external browser in
<code>w3m</code>.</li>
</ul></li>
</ul>
<h4 id="additional-tips-and-useful-tools"><strong>5. Additional Tips and
Useful Tools</strong></h4>
<ul>
<li><strong>Mouse Usage in TTY:</strong>
<ul>
<li>You need to use <code>GPM</code> to have mouse support in the TTY:
<code>sudo systemctl start gpm</code>.</li>
</ul></li>
<li><strong>Copy and Paste Text:</strong>
<ul>
<li>This is the solution I use I’m sure there’s better: I use
<code>privatebin</code>, you can copy text (e.g., from
<code>qutebrowser</code>), paste it into <code>privatebin</code>, get
the URL, and then access it to save the file.</li>
<li>For copy and paste in <code>vim</code> (if used in a Wayland
environment as a reference, though not a direct TTY case): Select the
lines to copy, press <code>Control+@</code>, and paste with
<code>Control+Shift+V</code>.</li>
</ul></li>
</ul>
</body>
</html>
